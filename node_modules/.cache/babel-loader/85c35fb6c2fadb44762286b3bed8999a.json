{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/Akash G/Documents/Edyoda/Edyoda_React_Assignment_Projects/ReactJsAdminPanel/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"C:/Users/Akash G/Documents/Edyoda/Edyoda_React_Assignment_Projects/ReactJsAdminPanel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,createContext}from'react';import{Outlet,useNavigate}from'react-router-dom';import ProductsListContainer from'../ProductsListContainer/ProductsListContainer';import styles from'./ProductsList.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var ProductsContext=/*#__PURE__*/createContext();var ProductsList=function ProductsList(props){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];// let value = 'flex'\n// let [value, setValue] = useState('flex')\n// let isdeleteProducts = false\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isDeleteProducts=_useState4[0],setDeleteProducts=_useState4[1];var deleteSelectedProduct=function deleteSelectedProduct(e){// removeProduct(products[0])\n// console.log(productList)\nvar _iterator=_createForOfIteratorHelper(productList),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var product=_step.value;removeProduct(product);}}catch(err){_iterator.e(err);}finally{_iterator.f();}setDeleteProducts(!isDeleteProducts);console.log(isDeleteProducts);};var productList=[];useEffect(function(){var Products=JSON.parse(localStorage.getItem('ProductList')).productsPage.products;setProducts(Products);console.log('useEffect');},[isDeleteProducts]);var AddProductNavigator=function AddProductNavigator(){navigate('/AddProduct');// props.setValue('none')\n};var setProductList=function setProductList(products){productList=products;};var removeProduct=function removeProduct(productName){var productList=JSON.parse(localStorage.getItem('ProductList'));// const productList = products\nfor(var index=0;index<productList.productsPage.products.length;index++){if(productList.productsPage.products[index].name===productName){productList.productsPage.products.splice(index,1);}}localStorage.setItem('ProductList',JSON.stringify(productList));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:props.class,children:[/*#__PURE__*/_jsxs(ProductsContext.Provider,{value:removeProduct,children:[/*#__PURE__*/_jsx(ProductsListContainer,{products:products,removeProduct:removeProduct,setProductList:setProductList}),/*#__PURE__*/_jsx(\"button\",{id:styles.productBtn,onClick:AddProductNavigator,children:\"Add New Product\"}),/*#__PURE__*/_jsx(\"button\",{id:styles.productBtn,onClick:deleteSelectedProduct,children:\"Delete selected products\"})]}),/*#__PURE__*/_jsx(Outlet,{})]})});};export default ProductsList;","map":{"version":3,"names":["React","useEffect","useState","createContext","Outlet","useNavigate","ProductsListContainer","styles","ProductsContext","ProductsList","props","navigate","products","setProducts","isDeleteProducts","setDeleteProducts","deleteSelectedProduct","e","productList","product","removeProduct","console","log","Products","JSON","parse","localStorage","getItem","productsPage","AddProductNavigator","setProductList","productName","index","length","name","splice","setItem","stringify","class","productBtn"],"sources":["C:/Users/Akash G/Documents/Edyoda/Edyoda_React_Assignment_Projects/ReactJsAdminPanel/src/components/Products/ProductList/ProductsList.js"],"sourcesContent":["import React, { useEffect, useState, createContext } from 'react'\r\nimport { Outlet, useNavigate } from 'react-router-dom'\r\nimport ProductsListContainer from '../ProductsListContainer/ProductsListContainer'\r\nimport styles from './ProductsList.module.css'\r\nexport const ProductsContext = createContext()\r\nconst ProductsList = (props) => {\r\n  const navigate = useNavigate()\r\n  let [products, setProducts] = useState([])\r\n  // let value = 'flex'\r\n  // let [value, setValue] = useState('flex')\r\n  // let isdeleteProducts = false\r\n  const [isDeleteProducts, setDeleteProducts] = useState(false)\r\n  const deleteSelectedProduct = (e) => {\r\n    // removeProduct(products[0])\r\n    // console.log(productList)\r\n    for (let product of productList) removeProduct(product)\r\n    setDeleteProducts(!isDeleteProducts)\r\n    console.log(isDeleteProducts)\r\n  }\r\n  let productList = []\r\n  useEffect(() => {\r\n    const Products = JSON.parse(localStorage.getItem('ProductList'))\r\n      .productsPage.products\r\n    setProducts(Products)\r\n    console.log('useEffect')\r\n  }, [isDeleteProducts])\r\n  const AddProductNavigator = () => {\r\n    navigate('/AddProduct')\r\n    // props.setValue('none')\r\n  }\r\n\r\n  let setProductList = (products) => {\r\n    productList = products\r\n  }\r\n\r\n  const removeProduct = (productName) => {\r\n    const productList = JSON.parse(localStorage.getItem('ProductList'))\r\n    // const productList = products\r\n    for (\r\n      let index = 0;\r\n      index < productList.productsPage.products.length;\r\n      index++\r\n    ) {\r\n      if (productList.productsPage.products[index].name === productName) {\r\n        productList.productsPage.products.splice(index, 1)\r\n      }\r\n    }\r\n    localStorage.setItem('ProductList', JSON.stringify(productList))\r\n  }\r\n  return (\r\n    <>\r\n      <div className={props.class}>\r\n        {/* ProductsList */}\r\n        <ProductsContext.Provider value={removeProduct}>\r\n          <ProductsListContainer\r\n            products={products}\r\n            removeProduct={removeProduct}\r\n            setProductList={setProductList}\r\n          />\r\n          <button id={styles.productBtn} onClick={AddProductNavigator}>\r\n            Add New Product\r\n          </button>\r\n          <button id={styles.productBtn} onClick={deleteSelectedProduct}>\r\n            Delete selected products\r\n          </button>\r\n        </ProductsContext.Provider>\r\n        <Outlet />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProductsList\r\n"],"mappings":"4WAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,aAArC,KAA0D,OAA1D,CACA,OAASC,MAAT,CAAiBC,WAAjB,KAAoC,kBAApC,CACA,MAAOC,sBAAP,KAAkC,gDAAlC,CACA,MAAOC,OAAP,KAAmB,2BAAnB,C,6IACA,MAAO,IAAMC,gBAAe,cAAGL,aAAa,EAArC,CACP,GAAMM,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC9B,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CACA,cAA8BH,QAAQ,CAAC,EAAD,CAAtC,wCAAKU,QAAL,eAAeC,WAAf,eACA;AACA;AACA;AACA,eAA8CX,QAAQ,CAAC,KAAD,CAAtD,yCAAOY,gBAAP,eAAyBC,iBAAzB,eACA,GAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,CAACC,CAAD,CAAO,CACnC;AACA;AAFmC,yCAGfC,WAHe,YAGnC,+CAAiC,IAAxBC,QAAwB,aAAAC,aAAa,CAACD,OAAD,CAAb,CAAsB,CAHpB,qDAInCJ,iBAAiB,CAAC,CAACD,gBAAF,CAAjB,CACAO,OAAO,CAACC,GAAR,CAAYR,gBAAZ,EACD,CAND,CAOA,GAAII,YAAW,CAAG,EAAlB,CACAjB,SAAS,CAAC,UAAM,CACd,GAAMsB,SAAQ,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,EACdC,YADc,CACDhB,QADhB,CAEAC,WAAW,CAACU,QAAD,CAAX,CACAF,OAAO,CAACC,GAAR,CAAY,WAAZ,EACD,CALQ,CAKN,CAACR,gBAAD,CALM,CAAT,CAMA,GAAMe,oBAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAChClB,QAAQ,CAAC,aAAD,CAAR,CACA;AACD,CAHD,CAKA,GAAImB,eAAc,CAAG,QAAjBA,eAAiB,CAAClB,QAAD,CAAc,CACjCM,WAAW,CAAGN,QAAd,CACD,CAFD,CAIA,GAAMQ,cAAa,CAAG,QAAhBA,cAAgB,CAACW,WAAD,CAAiB,CACrC,GAAMb,YAAW,CAAGM,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAApB,CACA;AACA,IACE,GAAIK,MAAK,CAAG,CADd,CAEEA,KAAK,CAAGd,WAAW,CAACU,YAAZ,CAAyBhB,QAAzB,CAAkCqB,MAF5C,CAGED,KAAK,EAHP,CAIE,CACA,GAAId,WAAW,CAACU,YAAZ,CAAyBhB,QAAzB,CAAkCoB,KAAlC,EAAyCE,IAAzC,GAAkDH,WAAtD,CAAmE,CACjEb,WAAW,CAACU,YAAZ,CAAyBhB,QAAzB,CAAkCuB,MAAlC,CAAyCH,KAAzC,CAAgD,CAAhD,EACD,CACF,CACDN,YAAY,CAACU,OAAb,CAAqB,aAArB,CAAoCZ,IAAI,CAACa,SAAL,CAAenB,WAAf,CAApC,EACD,CAbD,CAcA,mBACE,sCACE,aAAK,SAAS,CAAER,KAAK,CAAC4B,KAAtB,wBAEE,MAAC,eAAD,CAAiB,QAAjB,EAA0B,KAAK,CAAElB,aAAjC,wBACE,KAAC,qBAAD,EACE,QAAQ,CAAER,QADZ,CAEE,aAAa,CAAEQ,aAFjB,CAGE,cAAc,CAAEU,cAHlB,EADF,cAME,eAAQ,EAAE,CAAEvB,MAAM,CAACgC,UAAnB,CAA+B,OAAO,CAAEV,mBAAxC,6BANF,cASE,eAAQ,EAAE,CAAEtB,MAAM,CAACgC,UAAnB,CAA+B,OAAO,CAAEvB,qBAAxC,sCATF,GAFF,cAeE,KAAC,MAAD,IAfF,GADF,EADF,CAqBD,CAjED,CAmEA,cAAeP,aAAf"},"metadata":{},"sourceType":"module"}